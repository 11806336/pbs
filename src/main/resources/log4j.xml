<?xml version="1.0" encoding="GBK"?>
<!DOCTYPE log4j:configuration PUBLIC "-//APACHE//DTD LOG4J 1.2//EN" "log4j.dtd">
<log4j:configuration xmlns:log4j="http://jakarta.apache.org/log4j/">
    <!-- å¯ä»¥é…ç½®å¤šä¸ªappenderæ¥å¯¹åº”ä¸åŒçš„è¾“å‡ºï¼Œå¦‚æ–‡ä»¶è¾“å‡ºï¼Œsqlè¾“å‡ºï¼ŒæŽ§åˆ¶å°è¾“å‡ºï¼Œé‚®ä»¶è¾“å‡ºç­‰ -->
    <!-- [æŽ§åˆ¶å°STDOUT] ä¸åŒçš„è¾“å‡ºç±»åž‹å¯¹åº”ç€ä¸åŒçš„calssï¼Œå¦‚æŽ§åˆ¶å°è¾“å‡ºclasså¯¹åº”ç? org.apache.log4j.ConsoleAppender -->
    <appender name="console" class="org.apache.log4j.ConsoleAppender">  <!-- nameæä¾›ç»™loggeræˆ–è?…rootè°ƒç”¨ -->
        <param name="encoding" value="GBK" />  <!-- ä¿å­˜å­—ç¬¦é›? -->
        <param name="target" value="System.out" />  <!-- è¾“å‡ºåˆ°æŽ§åˆ¶å° -->
        <layout class="org.apache.log4j.PatternLayout"> <!-- loyoutè¡¨ç¤ºè¾“å‡ºæ–¹å¼ï¼Œå¯ä»¥å¤šç§ï¼Œclasså€¼åŒºåˆ†ï¼ŒPatternLayoutè¡¨ç¤ºè‡ªå®šä¹‰æ ¼å¼? -->
            <param name="ConversionPattern" value="%d{ISO8601} è€—æ—¶ï¼?%r [æ—¥å¿—æ¥è‡ªï¼?%-40.40c{3} æ—¥å¿—ç±»åž‹: %-5p æ—¥å¿—å†…å®¹ï¼?%m]%n" />  <!-- è¾“å‡ºæ ¼å¼ï¼ŒåŽé¢è§£é‡? -->
        </layout>
        <!--filterè¿‡æ»¤å™¨è®¾ç½®è¾“å‡ºçš„çº§åˆ«:ALL < DEBUG < INFO < WARN < ERROR < FATAL < OFF
            æ‰?æœ‰ä¸‹é¢è¾“å‡ºçš„æ˜¯debugåˆ°warnä¸ä¼šæœ‰errorå’Œfatal
        -->
        <filter class="org.apache.log4j.varia.LevelRangeFilter">
            <param name="levelMin" value="info" />
            <param name="levelMax" value="error" />
            <param name="AcceptOnMatch" value="true" />  <!-- ç­”æ¡ˆï¼šhttp://bbs.csdn.net/topics/350195913 -->
        </filter>
    </appender>

    <!-- [å…¬å…±Appender] è¿™ä¸ªclassè¡¨ç¤ºè¾“å…¥åˆ°æ–‡ä»¶ï¼Œå¹¶ä¸”æŒ‰æ—¥æœŸç”Ÿæˆæ–°æ–‡ä»¶-->
    <appender name="DEFAULT-APPENDER" class="org.apache.log4j.DailyRollingFileAppender">
        <param name="File" value="../logs/common-default.log" />  <!-- ..é¡¹ç›®æ ¹è·¯å¾„ï¼Œè‡ªåŠ¨èŽ·å¾—ï¼Œä¸ç”¨é…ç½®ï¼Œå¯è‡ªå·±åœ¨web.xmlä¸­é…ç½? -->
        <param name="Append" value="true" />  <!-- æ˜¯å¦é¡¹ç›®é‡å¯ç»§ç»­ä¿å­˜ä¹‹å‰æ—¥å¿— -->
        <param name="encoding" value="GBK" />
        <param name="threshold" value="all" /> <!-- è®°å½•æ‰?æœ‰ç±»åž‹æ—¥å¿—ï¼Œè®°å½•å®ƒå’Œæ¯”å®ƒç­‰çº§é«˜çš„æ—¥å¿—all<debug -->
        <param name="DatePattern" value="'.'yyyy-MM-dd'.log'" />  <!-- æ—¥æœŸæ ¼å¼  ä¾‹å­ï¼šcommon-default.log.2015-09-17.log-->
        <layout class="org.apache.log4j.PatternLayout">  <!-- è¾“å‡ºæ–¹å¼ -->
            <param name="ConversionPattern" value="%d{ISO8601} è€—æ—¶ï¼?%r [æ—¥å¿—æ¥è‡ªï¼?%-40.40c{3} æ—¥å¿—ç±»åž‹: %-5p æ—¥å¿—å†…å®¹ï¼?%m]%n" />
        </layout>
    </appender>

    <!-- [debugæ—¥å¿—APPENDER] -->
    <appender name="DEBUG-APPENDER" class="org.apache.log4j.DailyRollingFileAppender">
        <param name="File" value="../logs/controller/debug-log.log" />
        <param name="Append" value="true" />
        <param name="encoding" value="GBK" />
        <param name="DatePattern" value="'.'yyyy-MM-dd'.log'" />
        <layout class="org.apache.log4j.PatternLayout">
            <param name="ConversionPattern" value="%d{ISO8601} è€—æ—¶ï¼?%r [æ—¥å¿—æ¥è‡ªï¼?%-40.40c{3} æ—¥å¿—ç±»åž‹: %-5p æ—¥å¿—å†…å®¹ï¼?%m]%n" />
        </layout>
    </appender>

    <!-- [infoæ—¥å¿—APPENDER] -->
    <appender name="INFO-APPENDER"
              class="org.apache.log4j.DailyRollingFileAppender">
        <param name="File" value="../logs/controller/info-log.log" />
        <param name="Append" value="false" />
        <param name="encoding" value="GBK" />
        <param name="DatePattern" value="'.'yyyy-MM-dd'.log'" />
        <layout class="org.apache.log4j.PatternLayout">
            <param name="ConversionPattern" value="%d{ISO8601} è€—æ—¶ï¼?%r [æ—¥å¿—æ¥è‡ªï¼?%-40.40c{3} æ—¥å¿—ç±»åž‹: %-5p æ—¥å¿—å†…å®¹ï¼?%m]%n" />
        </layout>
        <!-- æˆ‘åªæƒ³è®°å½•infoæ—¥å¿—ï¼Œå°±åšå¦‚ä¸‹è®¾ç½? -->
        <filter class="org.apache.log4j.varia.LevelRangeFilter">
            <param name="LevelMax" value="info"/>
            <param name="LevelMin" value="info"/>
        </filter>
    </appender>

    <!-- [ç»„ä»¶æ—¥å¿—APPENDER] -->
    <appender name="COMPONENT-APPENDER"
              class="org.apache.log4j.DailyRollingFileAppender">
        <param name="File" value="../logs/logistics-component.log" />
        <param name="Append" value="true" />
        <param name="encoding" value="GBK" />
        <param name="DatePattern" value="'.'yyyy-MM-dd'.log'" />
        <layout class="org.apache.log4j.PatternLayout">
            <param name="ConversionPattern" value="%d{ISO8601} è€—æ—¶ï¼?%r [æ—¥å¿—æ¥è‡ªï¼?%-40.40c{3} æ—¥å¿—ç±»åž‹: %-5p æ—¥å¿—å†…å®¹ï¼?%m]%n" />
        </layout>
    </appender>

    <!--&lt;!&ndash; debug log &ndash;&gt;-->
    <!--&lt;!&ndash; nameæŒ‡å®šçš„æ˜¯åŒ…åï¼Œè¡¨ç¤ºè¿™ä¸ªloggeråªè®°å½•com.wzw.controllerä¸‹çš„æ‰?æœ‰æ—¥å¿? &ndash;&gt;-->
    <!--<logger name="com.wzw.controller" additivity="true">  &lt;!&ndash; additivity æ˜¯å¦ç»§æ‰¿root &ndash;&gt;-->
        <!--&lt;!&ndash; <level value="${loggingLevel}" />   &ndash;&gt;-->
        <!--<level value="DEBUG"></level>  &lt;!&ndash; çŽ°åœ¨çº§åˆ« &ndash;&gt;-->
        <!--<appender-ref ref="DEBUG-APPENDER" />-->
    <!--</logger>-->

    <!--&lt;!&ndash; info log &ndash;&gt;-->
    <!--&lt;!&ndash; nameæŒ‡å®šçš„æ˜¯åŒ…åï¼Œè¿™æ ·åªæ“ä½œæ­¤åŒ…ä¸‹çš„log &ndash;&gt;-->
    <!--<logger name="com.wzw.controller" additivity="true">-->
        <!--<level value="INFO"></level>-->
        <!--<appender-ref ref="INFO-APPENDER" />-->
        <!--<appender-ref ref="console"/>-->
    <!--</logger>-->

    <!-- Root Logger -->
    <!-- æ‰?æœ‰loggerçš„çˆ¶ç±»ï¼Œè®°å½•æ‰?æœ‰çš„æ—¥å¿—ã€? -->
    <root>
        <level value="ALL"></level>  <!-- é™å®šè®°å½•ç­‰çº§ -->
        <appender-ref ref="DEFAULT-APPENDER" />  <!-- è°ƒç”¨è®°å½•æ–¹å¼ -->
        <appender-ref ref="console"/>
    </root>

</log4j:configuration>